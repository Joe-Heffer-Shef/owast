{% extends "layout.html" %}
{% set title = 'Add Artifact' %}
{% block content %}
<p>Upload a data file and specify its metadata.</p>
<!-- This enctype is required for file upload -->
<form method="post" enctype="multipart/form-data" action="{{ url_for(request.endpoint) }}">
    {% include "form_fields.html" %}
    {#
    <input type="hidden" name="_csrf_token" value="{{ csrf_token() }}">
    <!-- Experiment ID -->
    <div>
        <label class="form-label" for="experiment_id">Experiment identifier</label>
        <input class="form-control" type="text" readonly name="experiment_id" id="experiment_id" value="{{ experiment_id }}">
    </div>

    <!-- Creation time -->
    <div>
        <label class="form-label" for="created_at">Created at</label>
        <input type="datetime-local" class="form-control" name="created_at" id="created_at" value="{{ time }}" required>
    </div>

    <!-- File upload -->
    <div>
        <label class="form-label" for="file">File</label>
        <input class="form-control" type="file" name="file" id="file" required>
    </div>

    <!-- Metadata -->
    <div>
        <label class="form-label" for="attributes">Attributes</label>
        <textarea class="form-control font-monospace" id="attributes"
                  name="attributes" rows="5">{}</textarea>
        <div class="form-text">JSON object (key-value pairs)</div>
    </div>
     #}

    <!-- Submit -->
    <button type="submit" class="btn btn-primary mt-3">
        <i class="bi bi-cloud-upload-fill"></i>
        Upload
    </button>
</form>
{% endblock %}
